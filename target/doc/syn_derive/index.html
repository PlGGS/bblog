<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A simple crate for reducing the boilerplate when writing parsers with `syn`."><title>syn_derive - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="syn_derive" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (9ecda8de8 2023-04-30)" data-search-js="search-618e954b235f6acc.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../syn_derive/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../syn_derive/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate syn_derive</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.6</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#derives">Derive Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">syn_derive</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/syn_derive/lib.rs.html#1-422">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A simple crate for reducing the boilerplate when writing parsers with <a href="https://docs.rs/syn/2.0.18/syn/index.html" title="mod syn"><code>syn</code></a>.</p>
<h3 id="structs"><a href="#structs">Structs</a></h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(syn_derive::Parse, syn_derive::ToTokens)]
</span><span class="kw">struct </span>ExampleStruct {
    <span class="attr">#[parse(Attribute::parse_outer)]
    #[to_tokens(|tokens, val| tokens.append_all(val))]
    </span>attrs: Vec&lt;Attribute&gt;,

    path: Path,

    <span class="attr">#[syn(parenthesized)]
    </span>paren_token: Paren,

    <span class="attr">#[syn(<span class="kw">in </span>= paren_token)]
    #[parse(Punctuated::parse_terminated)]
    </span>args: Punctuated&lt;Box&lt;Expr&gt;, <span class="macro">Token!</span>[,]&gt;,

    semi_token: <span class="macro">Token!</span>[;],

    <span class="attr">#[parse(Pat::parse_multi, boxed)]
    </span><span class="kw">pub </span>pat: Box&lt;Pat&gt;,
}</code></pre></div>
<p><code>#[syn(parenthesized)]</code>,
<code>#[syn(braced)]</code>,
<code>#[syn(bracketed)]</code>:
Corresponds to the isonymous macros in <code>syn</code>.
Must be attached to <a href="https://docs.rs/syn/2.0.18/syn/token/struct.Paren.html" title="struct syn::token::Paren"><code>Paren</code></a>, <a href="https://docs.rs/syn/2.0.18/syn/token/struct.Brace.html" title="struct syn::token::Brace"><code>Brace</code></a>, and <a href="https://docs.rs/syn/2.0.18/syn/token/struct.Bracket.html" title="struct syn::token::Bracket"><code>Bracket</code></a> fields, respectively.</p>
<p><code>#[syn(in = Ident)]</code>:
The field is read from inside the named delimiter pair.</p>
<p><code>#[parse(fn(ParseStream) -&gt; syn::Result&lt;T&gt;)]</code>:
A function used to parse the field,
often used with <a href="https://docs.rs/syn/2.0.18/syn/punctuated/struct.Punctuated.html#method.parse_terminated" title="associated function syn::punctuated::Punctuated::parse_terminated"><code>Punctuated::parse_terminated</code></a>
or <a href="https://docs.rs/syn/2.0.18/syn/attr/struct.Attribute.html#method.parse_outer" title="associated function syn::attr::Attribute::parse_outer"><code>Attribute::parse_outer</code></a>.</p>
<p><code>#[parse(_, boxed)]</code>:
Wraps the specified parse function to box the value.
Useful with functions like <code>Pat::parse_multi</code> above.</p>
<p><code>#[to_tokens(fn(&amp;mut TokenStream, &amp;T)]</code>:
A function used to tokenize the field.
Often used with <a href="../quote/ext/trait.TokenStreamExt.html#tymethod.append_all" title="method quote::ext::TokenStreamExt::append_all"><code>TokenStreamExt::append_all</code></a>,
though for type resolution reasons this needs to be indirected through a closure expression.</p>
<h3 id="enums"><a href="#enums">Enums</a></h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[derive(syn_derive::Parse, syn_derive::ToTokens)]
</span><span class="kw">enum </span>ExampleEnum {
    <span class="attr">#[parse(peek = <span class="macro">Token!</span>[<span class="kw">struct</span>]</span>)]
    Struct(ItemStruct),
    <span class="attr">#[parse(peek = <span class="macro">Token!</span>[<span class="kw">enum</span>]</span>)]
    Enum(ItemEnum),

    Other {
        path: Path,
        semi_token: <span class="macro">Token!</span>[;],
    }
}</code></pre></div>
<p><code>#[parse(prefix = fn(<a href="https://docs.rs/syn/2.0.18/syn/parse/type.ParseStream.html" title="type syn::parse::ParseStream"><code>ParseStream</code></a>) -&gt; <a href="https://docs.rs/syn/2.0.18/syn/error/type.Result.html" title="type syn::error::Result"><code>syn::Result</code></a>&lt;_&gt;)]</code>&gt;:
A prefix used for all branches, before doing the peeking.
Useful when all branches support attributes, for example.
The return value is ignored, which gives somewhat suboptimal performance, since the prefix is parsed twice.</p>
<p><code>#[parse(peek = <a href="https://docs.rs/syn/2.0.18/syn/macro.Token.html" title="macro syn::Token"><code>Token</code></a>)]</code>:
Checks whether the variant should be parsed.
Even if multiple peeks succeed, only the first successful variant is attempted.</p>
<p><code>#[parse(peek_func = fn(<a href="https://docs.rs/syn/2.0.18/syn/parse/type.ParseStream.html" title="type syn::parse::ParseStream"><code>ParseStream</code></a>) -&gt; <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" title="primitive bool"><code>bool</code></a>)]</code>:
More powerful than <code>peek</code> (such as allowing <a href="https://docs.rs/syn/2.0.18/syn/parse/struct.ParseBuffer.html#method.peek2" title="method syn::parse::ParseBuffer::peek2"><code>peek2</code></a>), but gives worse error messages on failure.
<code>peek</code> should be preferred when possible.</p>
<h2 id="alternatives"><a href="#alternatives">Alternatives</a></h2>
<ul>
<li><a href="https://docs.rs/derive-syn-parse/latest/"><code>derive-syn-parse</code></a>
does not handle <a href="derive.ToTokens.html" title="derive syn_derive::ToTokens"><code>ToTokens</code></a>.
It also seems to encourage throwing tokens away with its <code>prefix</code> and <code>postfix</code> attributes.</li>
<li><a href="https://docs.rs/derive-syn-parse/latest/"><code>parsel</code></a>
uses its own types for parentheses, meaning the AST types have different API from <a href="https://docs.rs/syn/2.0.18/syn/index.html" title="mod syn"><code>syn</code></a>’s own.</li>
</ul>
</div></details><h2 id="derives" class="small-section-header"><a href="#derives">Derive Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.Parse.html" title="derive syn_derive::Parse">Parse</a></div></li><li><div class="item-name"><a class="derive" href="derive.ToTokens.html" title="derive syn_derive::ToTokens">ToTokens</a></div></li></ul></section></div></main></body></html>